<!DOCTYPE html>
<html lang="uk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Code&Go</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        /* üé® –î–ò–ó–ê–ô–ù CODE&GO */
        :root {
            --bg-color: #1A2B43; 
            --text-color: #ffffff;
            --accent-color: #00E5FF; 
            --btn-border: rgba(255, 255, 255, 0.5); 
            --card-bg: rgba(255, 255, 255, 0.05);
            --success-color: #00ff9d;
        }

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            margin: 0;
            padding: 20px;
            box-sizing: border-box;
            min-height: 100vh;
            overflow-x: hidden;
        }

        /* üî• –ó–ê–°–¢–ê–í–ö–ê */
        #splash-screen {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #ffffff; z-index: 9999;
            display: flex; align-items: center; justify-content: center;
            transition: opacity 0.5s ease-out;
        }
        /* –ê–Ω—ñ–º–∞—Ü—ñ—è –ª–æ–≥–æ—Ç–∏–ø–∞ */
        .logo-img { width: 180px; height: auto; animation: pulseLogo 3s infinite; }
        @keyframes pulseLogo { 0% { transform: scale(1); opacity: 0.8; } 50% { transform: scale(1.05); opacity: 1; } 100% { transform: scale(1); opacity: 0.8; } }

        /* –¢–ò–ü–û–ì–†–ê–§–Ü–ö–ê */
        h1 { font-size: 32px; font-weight: 800; text-align: center; margin: 10px 0 5px 0; color: #fff; }
        h2 { text-align: center; color: var(--accent-color); margin-bottom: 25px; }
        .subtitle { text-align: center; color: rgba(255, 255, 255, 0.6); margin-bottom: 30px; font-size: 14px; letter-spacing: 0.5px; }

        /* –ö–ù–û–ü–ö–ò */
        .btn {
            display: block; width: 100%; padding: 16px; margin-bottom: 12px;
            background-color: transparent; border: 1px solid var(--btn-border);
            border-radius: 50px; color: #ffffff; font-size: 16px; font-weight: 600;
            cursor: pointer; text-align: center; transition: all 0.2s;
            backdrop-filter: blur(10px); -webkit-tap-highlight-color: transparent;
        }
        .btn:active { background-color: rgba(255, 255, 255, 0.1); transform: scale(0.98); }
        .btn-primary { border-color: var(--accent-color); color: var(--accent-color); box-shadow: 0 0 15px rgba(0, 229, 255, 0.15); }

        /* –ö–ê–†–¢–ö–ò –¢–û–í–ê–†–Ü–í –¢–ê –Ü–ù–§–û */
        .description, .faq-item, .calc-container {
            background: var(--card-bg); padding: 20px; border-radius: 20px;
            margin-bottom: 15px; border: 1px solid rgba(255,255,255,0.1);
        }
        .price-tag { font-size: 32px; font-weight: 800; color: var(--accent-color); text-align: center; margin: 20px 0; text-shadow: 0 0 20px rgba(0, 229, 255, 0.4); }
        .legal-badge { display: inline-block; background: rgba(0, 229, 255, 0.1); color: var(--accent-color); padding: 6px 12px; border-radius: 50px; font-size: 11px; font-weight: bold; margin-bottom: 15px; width: 100%; text-align: center; box-sizing: border-box; border: 1px solid rgba(0, 229, 255, 0.3); }
        .meta-info { text-align: center; color: rgba(255, 255, 255, 0.5); margin-bottom: 10px; font-size: 13px; text-transform: uppercase; }

        /* üßÆ –ï–õ–ï–ú–ï–ù–¢–ò –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê */
        select {
            width: 100%; padding: 12px; border-radius: 10px; background: rgba(255,255,255,0.1);
            color: white; border: 1px solid var(--accent-color); margin-bottom: 20px; font-size: 16px; outline: none;
        }
        option { background: #1A2B43; color: white; }

        .range-container { margin: 20px 0; text-align: center; }
        .range-label { font-size: 14px; color: #ccc; margin-bottom: 10px; display: block; }
        input[type=range] {
            width: 100%; -webkit-appearance: none; background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none; height: 20px; width: 20px; border-radius: 50%;
            background: var(--accent-color); margin-top: -8px; box-shadow: 0 0 10px var(--accent-color);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%; height: 4px; background: rgba(255,255,255,0.3); border-radius: 2px;
        }

        .calc-row {
            display: flex; justify-content: space-between; align-items: center;
            padding: 12px 0; border-bottom: 1px solid rgba(255,255,255,0.05);
        }
        .calc-row:last-child { border-bottom: none; }
        .calc-label { font-size: 15px; }
        .calc-price { color: var(--accent-color); font-weight: bold; font-size: 14px; margin-right: 10px;}

        /* Switch Toggle */
        .switch { position: relative; display: inline-block; width: 46px; height: 24px; }
        .switch input { opacity: 0; width: 0; height: 0; }
        .slider { position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(255,255,255,0.2); transition: .4s; border-radius: 34px; }
        .slider:before { position: absolute; content: ""; height: 18px; width: 18px; left: 3px; bottom: 3px; background-color: white; transition: .4s; border-radius: 50%; }
        input:checked + .slider { background-color: var(--accent-color); }
        input:checked + .slider:before { transform: translateX(22px); }

        .total-bar {
            position: sticky; bottom: 10px; background: rgba(26, 43, 67, 0.95);
            padding: 15px; border-radius: 20px; border: 1px solid var(--accent-color);
            backdrop-filter: blur(10px); margin-top: 20px; text-align: center;
            box-shadow: 0 0 20px rgba(0,0,0,0.5); z-index: 100;
        }

        /* ‚ùì FAQ STYLES */
        .faq-question { font-weight: 600; display: flex; justify-content: space-between; align-items: center; cursor: pointer; padding-bottom: 5px;}
        .faq-answer { margin-top: 10px; color: rgba(255,255,255,0.7); font-size: 14px; line-height: 1.5; display: none; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.1); }
        .faq-item.active .faq-answer { display: block; animation: fadeIn 0.3s; }
        .faq-item.active .faq-icon { transform: rotate(180deg); color: var(--accent-color); }

        .fade-in { animation: fadeIn 0.4s ease-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <div id="splash-screen">
        <img src="IMG_5108.png" class="logo-img" onerror="this.style.display='none'; document.querySelector('.fallback-text').style.display='block'">
        <div class="fallback-text" style="display:none; font-size:40px; font-weight:900; color:#1A2B43;">Code&Go</div>
    </div>

    <div id="app" style="display: none;"></div>

    <script>
        // ‚öôÔ∏è –ù–ê–õ–ê–®–¢–£–í–ê–ù–ù–Ø
        const MY_TELEGRAM_USERNAME = "codego_manager"; // –¢–≤—ñ–π –Ω—ñ–∫
        const COMPANY_NAME = "Code&Go";
        const COMPANY_SLOGAN = "Digital Solutions";
        const SPLASH_TIME = 3000; // 3 —Å–µ–∫—É–Ω–¥–∏

        // üí∞ –¶–Ü–ù–ò –ü–û–°–õ–£–ì
        const SERVICES = {
            landing: { title: "–õ–µ–Ω–¥—ñ–Ω–≥", price: "–≤—ñ–¥ 4199 –≥—Ä–Ω", time: "2-5 –¥–Ω—ñ–≤", desc: "–°–∞–π—Ç –¥–ª—è —à–≤–∏–¥–∫–∏—Ö –ø—Ä–æ–¥–∞–∂—ñ–≤. **–ú–µ—Ç–∞:** –∑–º—É—Å–∏—Ç–∏ –∫—É–ø–∏—Ç–∏ —Ç—É—Ç —ñ –∑–∞—Ä–∞–∑." },
            corp: { title: "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∏–π —Å–∞–π—Ç", price: "–≤—ñ–¥ 8499 –≥—Ä–Ω", time: "5-10 –¥–Ω—ñ–≤", desc: "–û—Ñ—ñ—Å –∫–æ–º–ø–∞–Ω—ñ—ó –≤ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—ñ. –ë–∞–≥–∞—Ç–æ—Å—Ç–æ—Ä—ñ–Ω–∫–æ–≤–∏–π —Å–∞–π—Ç, —â–æ –≤–∏–∫–ª–∏–∫–∞—î –¥–æ–≤—ñ—Ä—É." },
            shop: { title: "–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω", price: "–≤—ñ–¥ 21199 –≥—Ä–Ω", time: "10-20 –¥–Ω—ñ–≤", desc: "–ú–∞—à–∏–Ω–∞ –¥–ª—è –ø—Ä–æ–¥–∞–∂—ñ–≤ 24/7. –ö–∞—Ç–∞–ª–æ–≥, –∫–æ—à–∏–∫, –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è." },
            simple_bot: { title: "–ü—Ä–æ—Å—Ç–∏–π —á–∞—Ç-–±–æ—Ç", price: "–≤—ñ–¥ 3499 –≥—Ä–Ω", time: "3-5 –¥–Ω—ñ–≤", desc: "–ë–æ—Ç-—Å–µ–∫—Ä–µ—Ç–∞—Ä. –í—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–∏—Ç–∞–Ω–Ω—è, –µ–∫–æ–Ω–æ–º–∏—Ç—å –≤–∞—à —á–∞—Å." },
            integration_bot: { title: "–ë–æ—Ç –∑ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è–º–∏", price: "–≤—ñ–¥ 6199 –≥—Ä–Ω", time: "7-14 –¥–Ω—ñ–≤", desc: "–†—ñ–≤–µ–Ω—å PRO. –ó–≤'—è–∑–æ–∫ –∑ CRM, —Ç–∞–±–ª–∏—Ü—è–º–∏ —Ç–∞ –∑–∞–ø–∏—Å–æ–º –∫–ª—ñ—î–Ω—Ç—ñ–≤." },
            mini_app: { title: "Mini App (—è–∫ —Ü–µ–π)", price: "–≤—ñ–¥ 8299 –≥—Ä–Ω", time: "10-20 –¥–Ω—ñ–≤", desc: "–î–æ–¥–∞—Ç–æ–∫ –ø—Ä—è–º–æ –≤ Telegram. –í–∞—É-–µ—Ñ–µ–∫—Ç –¥–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤." },
            audit: { title: "–ê—É–¥–∏—Ç —Å–∞–π—Ç—É", price: "–≤—ñ–¥ 799 –≥—Ä–Ω", time: "1-2 –¥–Ω—ñ", desc: "–ü–æ—à—É–∫ –ø–æ–º–∏–ª–æ–∫, —è–∫—ñ –∑–∞–≤–∞–∂–∞—é—Ç—å –≤–∞–º –∑–∞—Ä–æ–±–ª—è—Ç–∏." },
            seo_adapt: { title: "SEO –∞–¥–∞–ø—Ç–∞—Ü—ñ—è", price: "–≤—ñ–¥ 4499 –≥—Ä–Ω", time: "3-7 –¥–Ω—ñ–≤", desc: "–†–∞–∑–æ–≤–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∞–π—Ç—É, —â–æ–± Google –π–æ–≥–æ –ø–æ–ª—é–±–∏–≤." },
            seo_promo: { title: "SEO –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è", price: "–≤—ñ–¥ 11999 –≥—Ä–Ω", time: "–≤—ñ–¥ 30 –¥–Ω—ñ–≤", desc: "–í–∏–≤–µ–¥–µ–Ω–Ω—è –≤ –¢–û–ü Google. –ë–µ–∑–∫–æ—à—Ç–æ–≤–Ω—ñ –∫–ª—ñ—î–Ω—Ç–∏ —â–æ–¥–Ω—è." }
        };

        // üßÆ –î–ê–ù–Ü –î–õ–Ø –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–†–ê
        const CALC_TYPES = {
            landing: { name: "–õ–µ–Ω–¥—ñ–Ω–≥", base: 4199, unit: "blocks", unitName: "–ö—ñ–ª—å–∫—ñ—Å—Ç—å –¥–æ–¥. –±–ª–æ–∫—ñ–≤", stepPrice: 400, max: 10 },
            corp: { name: "–ö–æ—Ä–ø–æ—Ä–∞—Ç–∏–≤–Ω–∏–π —Å–∞–π—Ç", base: 8499, unit: "pages", unitName: "–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫", stepPrice: 1200, max: 15 },
            shop: { name: "–Ü–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω", base: 21199, unit: "pages", unitName: "–ö—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫", stepPrice: 1200, max: 20 },
            bot: { name: "–ß–∞—Ç-–±–æ—Ç", base: 3499, unit: null, unitName: "", stepPrice: 0, max: 0 },
            seo: { name: "SEO –û–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è", base: 4499, unit: null, unitName: "", stepPrice: 0, max: 0 }
        };

        const CALC_EXTRAS = [
            { id: 'design', name: '–£–Ω—ñ–∫–∞–ª—å–Ω–∏–π –¥–∏–∑–∞–π–Ω', price: 2500 },
            { id: 'admin', name: '–ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å', price: 1200 },
            { id: 'seo', name: '–ë–∞–∑–æ–≤–µ SEO', price: 2800 },
            { id: 'copy', name: '–ö–æ–ø—ñ—Ä–∞–π—Ç–∏–Ω–≥ (–≤–µ—Å—å —Å–∞–π—Ç)', price: 2500 },
            { id: 'support', name: '–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ (1 –º—ñ—Å)', price: 5000 },
            { id: 'domain', name: '–î–æ–ø–æ–º–æ–≥–∞ –∑ –¥–æ–º–µ–Ω–æ–º', price: 300 }
        ];

        // ‚ùì FAQ
        const FAQ_ITEMS = [
            { q: "–ß–∏ –≤—Ö–æ–¥–∏—Ç—å —É –≤–∞—Ä—Ç—ñ—Å—Ç—å —Ö–æ—Å—Ç–∏–Ω–≥/–¥–æ–º–µ–Ω?", a: "–ù—ñ. –ü–æ–±–∞–∂–∞–Ω–Ω—è —Ç–∞ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏ —É –≤—Å—ñ—Ö —Ä—ñ–∑–Ω—ñ, —Ç–æ–º—É —Ö–æ—Å—Ç–∏–Ω–≥ —ñ –¥–æ–º–µ–Ω –∫—É–ø—É—é—Ç—å—Å—è –æ–∫—Ä–µ–º–æ. –ú–∏ –¥–æ–ø–æ–º–∞–≥–∞—î–º–æ —Ü–µ –∑—Ä–æ–±–∏—Ç–∏." },
            { q: "–ß–æ–º—É —Ç–∞–∫—ñ —Ü—ñ–Ω–∏? –ú–æ–∂–Ω–∞ –¥–µ—à–µ–≤—à–µ?", a: "–ú–∏ –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –¥–µ—à–µ–≤—ñ —à–∞–±–ª–æ–Ω–∏, —è–∫—ñ –ª–∞–º–∞—é—Ç—å—Å—è. –í–∏ –ø–ª–∞—Ç–∏—Ç–µ –∑–∞ —Å—Ç–∞–±—ñ–ª—å–Ω—ñ—Å—Ç—å, —à–≤–∏–¥–∫—ñ—Å—Ç—å —Ç–∞ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç, —è–∫–∏–π –∑–∞—Ä–æ–±–ª—è—î –≥—Ä–æ—à—ñ." },
            { q: "–©–æ –≤—Ö–æ–¥–∏—Ç—å —É –≤–∞—Ä—Ç—ñ—Å—Ç—å?", a: "–ê–Ω–∞–ª—ñ–∑ –Ω—ñ—à—ñ, –¥–∏–∑–∞–π–Ω, —á–∏—Å—Ç–∏–π –∫–æ–¥, –º–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è —Ç–∞ –±–∞–∑–æ–≤–∞ –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–æ –∑–∞–ø—É—Å–∫—É." },
            { q: "–Ø–∫ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –æ–ø–ª–∞—Ç–∞?", a: "–ü—Ä–∞—Ü—é—î–º–æ –æ—Ñ—ñ—Ü—ñ–π–Ω–æ (–§–û–ü). 50% –ø–µ—Ä–µ–¥–æ–ø–ª–∞—Ç–∞, 50% –ø—ñ—Å–ª—è –∑–¥–∞—á—ñ –ø—Ä–æ–µ–∫—Ç—É." },
            { q: "–ß–∏ –±—É–¥–µ –ø—ñ–¥—Ç—Ä–∏–º–∫–∞?", a: "–¢–∞–∫, –ø—Ä–æ—Ç—è–≥–æ–º 14 –¥–Ω—ñ–≤ –ø—ñ—Å–ª—è –∑–¥–∞—á—ñ –º–∏ –±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–æ –≤–∏–ø—Ä–∞–≤–ª—è—î–º–æ —Ç–µ—Ö–Ω—ñ—á–Ω—ñ –º–æ–º–µ–Ω—Ç–∏." }
        ];

        // --- –õ–û–ì–Ü–ö–ê ---

        const tg = window.Telegram.WebApp;
        tg.expand();
        tg.setHeaderColor('#1A2B43'); tg.setBackgroundColor('#1A2B43');

        const app = document.getElementById('app');
        const splash = document.getElementById('splash-screen');

        window.onload = () => {
            setTimeout(() => {
                splash.style.opacity = '0';
                setTimeout(() => { splash.style.display = 'none'; app.style.display = 'block'; renderHome(); }, 500);
            }, SPLASH_TIME); 
        };

        function createBtn(text, onClick, isPrimary = false) {
            const btn = document.createElement('button');
            btn.className = isPrimary ? 'btn btn-primary' : 'btn';
            btn.innerText = text;
            btn.onclick = () => { tg.HapticFeedback.impactOccurred('light'); onClick(); };
            return btn;
        }

        // --- –ï–ö–†–ê–ù–ò ---

        function renderHome() {
            app.innerHTML = ''; tg.BackButton.hide();
            const c = document.createElement('div'); c.className = 'fade-in';
            c.innerHTML = `<h1>${COMPANY_NAME}</h1><div class="subtitle">${COMPANY_SLOGAN} <br> –í—ñ—Ç–∞—é, ${tg.initDataUnsafe?.user?.first_name || '–ö–ª—ñ—î–Ω—Ç–µ'}! üëã</div>`;
            
            c.appendChild(createBtn("üåê –°–∞–π—Ç–∏", () => renderCategory('sites')));
            c.appendChild(createBtn("ü§ñ –ë–æ—Ç–∏ / Mini App", () => renderCategory('bots')));
            c.appendChild(createBtn("üìà SEO –ü–æ—Å–ª—É–≥–∏", () => renderCategory('seo')));
            c.appendChild(createBtn("üßÆ –†–æ–∑—É–º–Ω–∏–π –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä", renderCalculator, true)); 
            c.appendChild(createBtn("‚ùì –ü–∏—Ç–∞–Ω–Ω—è (FAQ)", renderFAQ));
            c.appendChild(createBtn("üí¨ –ö–æ–Ω—Å—É–ª—å—Ç–∞—Ü—ñ—è", () => tg.openTelegramLink(`https://t.me/${MY_TELEGRAM_USERNAME}`)));
            app.appendChild(c);
        }

        function renderCategory(type) {
            tg.BackButton.show(); tg.BackButton.onClick(() => renderHome());
            app.innerHTML = '';
            const c = document.createElement('div'); c.className = 'fade-in';
            const h2 = document.createElement('h2'); 
            
            if (type === 'sites') { h2.innerText = "–†–æ–∑—Ä–æ–±–∫–∞ –°–∞–π—Ç—ñ–≤"; c.appendChild(h2); ['landing', 'corp', 'shop'].forEach(k => c.appendChild(createBtn(SERVICES[k].title, () => renderProduct(k, 'sites')))); }
            if (type === 'bots') { h2.innerText = "–ë–æ—Ç–∏ —Ç–∞ –î–æ–¥–∞—Ç–∫–∏"; c.appendChild(h2); ['simple_bot', 'integration_bot', 'mini_app'].forEach(k => c.appendChild(createBtn(SERVICES[k].title, () => renderProduct(k, 'bots')))); }
            if (type === 'seo') { h2.innerText = "SEO –ü–æ—Å–ª—É–≥–∏"; c.appendChild(h2); ['audit', 'seo_adapt', 'seo_promo'].forEach(k => c.appendChild(createBtn(SERVICES[k].title, () => renderProduct(k, 'seo')))); }
            app.appendChild(c);
        }

        function renderProduct(key, fromCategory) {
            tg.BackButton.show(); tg.BackButton.onClick(() => renderCategory(fromCategory));
            const p = SERVICES[key];
            app.innerHTML = '';
            const c = document.createElement('div'); c.className = 'fade-in';
            c.innerHTML = `<h2>${p.title}</h2><div class="legal-badge">üõ° –û—Ñ—ñ—Ü—ñ–π–Ω–æ: –§–û–ü, –î–æ–≥–æ–≤—ñ—Ä</div><div class="description">${p.desc.replace(/\*\*(.*?)\*\*/g, '<b>$1</b>')}</div><div class="meta-info">‚è± ${p.time}</div><div class="price-tag">${p.price}</div>`;
            c.appendChild(createBtn(`üî• –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏`, () => { tg.openTelegramLink(`https://t.me/${MY_TELEGRAM_USERNAME}?text=${encodeURIComponent('–ü—Ä–∏–≤—ñ—Ç! –•–æ—á—É –∑–∞–º–æ–≤–∏—Ç–∏: ' + p.title)}`); }, true));
            app.appendChild(c);
        }

        // --- –†–û–ó–£–ú–ù–ò–ô –ö–ê–õ–¨–ö–£–õ–Ø–¢–û–† ---
        function renderCalculator() {
            tg.BackButton.show(); tg.BackButton.onClick(() => renderHome());
            app.innerHTML = '';
            const c = document.createElement('div'); c.className = 'fade-in';
            
            // –í–∏–±—ñ—Ä —Ç–∏–ø—É
            const selectHTML = `<div class="calc-container">
                <div class="calc-label" style="margin-bottom:10px; color:#ccc;">–¢–∏–ø –ø–æ—Å–ª—É–≥–∏:</div>
                <select id="typeSelect">
                    ${Object.keys(CALC_TYPES).map(k => `<option value="${k}">${CALC_TYPES[k].name}</option>`).join('')}
                </select>
                
                <div id="sliderBlock">
                    <label id="sliderLabel" class="range-label">–ö—ñ–ª—å–∫—ñ—Å—Ç—å: 0</label>
                    <input type="range" id="rangeInput" min="0" max="10" value="0">
                </div>
            </div>`;
            
            // –ß–µ–∫–±–æ–∫—Å–∏ –¥–æ–ø –ø–æ—Å–ª—É–≥
            let extrasHTML = `<div class="calc-container" style="margin-top:10px;">`;
            CALC_EXTRAS.forEach(ex => {
                extrasHTML += `<div class="calc-row">
                    <div class="calc-label">${ex.name}</div>
                    <div style="display:flex; align-items:center;">
                        <div class="calc-price">+${ex.price}</div>
                        <label class="switch"><input type="checkbox" class="extra-check" data-price="${ex.price}" data-name="${ex.name}"><span class="slider"></span></label>
                    </div>
                </div>`;
            });
            extrasHTML += `</div>`;

            // –ü—ñ–¥–≤–∞–ª –∑ —Ü—ñ–Ω–æ—é
            const footerHTML = `<div class="total-bar">
                <div style="font-size:13px; color:#aaa;">–û—Ä—ñ—î–Ω—Ç–æ–≤–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å:</div>
                <div class="price-tag" id="totalPrice" style="margin:5px 0;">0 –≥—Ä–Ω</div>
                <button id="orderCalcBtn" class="btn btn-primary">–ó–∞–º–æ–≤–∏—Ç–∏ —Ä–æ–∑—Ä–∞—Ö—É–Ω–æ–∫</button>
            </div>`;

            c.innerHTML = `<h2>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä</h2>` + selectHTML + extrasHTML + footerHTML;
            app.appendChild(c);

            // –õ–û–ì–Ü–ö–ê –†–û–ó–†–ê–•–£–ù–ö–£
            const select = document.getElementById('typeSelect');
            const rangeBlock = document.getElementById('sliderBlock');
            const rangeInput = document.getElementById('rangeInput');
            const rangeLabel = document.getElementById('sliderLabel');
            const totalDisplay = document.getElementById('totalPrice');
            const checks = document.querySelectorAll('.extra-check');

            function calculate() {
                const typeKey = select.value;
                const typeData = CALC_TYPES[typeKey];
                let total = typeData.base;
                let sliderVal = 0;

                // –õ–æ–≥—ñ–∫–∞ –ø–æ–≤–∑—É–Ω–∫–∞
                if (typeData.unit) {
                    rangeBlock.style.display = 'block';
                    rangeInput.max = typeData.max;
                    sliderVal = parseInt(rangeInput.value);
                    total += sliderVal * typeData.stepPrice;
                    rangeLabel.innerText = `${typeData.unitName}: ${sliderVal} (+${sliderVal * typeData.stepPrice} –≥—Ä–Ω)`;
                } else {
                    rangeBlock.style.display = 'none';
                }

                // –õ–æ–≥—ñ–∫–∞ —á–µ–∫–±–æ–∫—Å—ñ–≤
                checks.forEach(ch => { if(ch.checked) total += parseInt(ch.dataset.price); });

                totalDisplay.innerText = total + " –≥—Ä–Ω";
                return { total, typeData, sliderVal };
            }

            // –ü–æ–¥—ñ—ó
            select.addEventListener('change', () => { rangeInput.value = 0; calculate(); });
            rangeInput.addEventListener('input', calculate);
            checks.forEach(ch => ch.addEventListener('change', () => { tg.HapticFeedback.impactOccurred('light'); calculate(); }));

            // –ö–Ω–æ–ø–∫–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
            document.getElementById('orderCalcBtn').onclick = () => {
                const data = calculate();
                let msg = `üî¢ –ù–æ–≤–∏–π –ø—Ä–æ—Ä–∞—Ö—É–Ω–æ–∫!\n\nüìå –¢–∏–ø: ${data.typeData.name} (–ë–∞–∑–∞: ${data.typeData.base} –≥—Ä–Ω)\n`;
                if(data.typeData.unit) {
                    msg += `üìè ${data.typeData.unitName}: ${data.sliderVal} (+${data.sliderVal * data.typeData.stepPrice} –≥—Ä–Ω)\n`;
                }
                msg += `\n–î–æ–¥–∞—Ç–∫–æ–≤–æ:\n`;
                checks.forEach(ch => { if(ch.checked) msg += `‚úÖ ${ch.dataset.name} (+${ch.dataset.price})\n`; });
                msg += `\nüí∞ –†–ê–ó–û–ú: ${data.total} –≥—Ä–Ω`;
                tg.openTelegramLink(`https://t.me/${MY_TELEGRAM_USERNAME}?text=${encodeURIComponent(msg)}`);
            };

            calculate(); // –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫
        }

        // --- FAQ ---
        function renderFAQ() {
            tg.BackButton.show(); tg.BackButton.onClick(() => renderHome());
            app.innerHTML = '';
            const c = document.createElement('div'); c.className = 'fade-in';
            c.innerHTML = `<h2>–ü–∏—Ç–∞–Ω–Ω—è (FAQ)</h2>`;
            FAQ_ITEMS.forEach(item => {
                const div = document.createElement('div'); div.className = 'faq-item';
                div.innerHTML = `<div class="faq-question"><span>${item.q}</span><span class="faq-icon">‚ñº</span></div><div class="faq-answer">${item.a.replace(/\n/g, '<br>')}</div>`;
                div.onclick = () => {
                    tg.HapticFeedback.impactOccurred('light');
                    const isOpen = div.classList.contains('active');
                    document.querySelectorAll('.faq-item').forEach(i => i.classList.remove('active'));
                    if(!isOpen) div.classList.add('active');
                };
                c.appendChild(div);
            });
            app.appendChild(c);
        }
    </script>
</body>
</html>
